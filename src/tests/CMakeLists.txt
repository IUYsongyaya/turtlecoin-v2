file(GLOB test_files "*.cpp")
foreach(test_file ${test_files})
    get_filename_component(TEST_NAME ${test_file} NAME_WE)
    get_filename_component(TEST_FILE ${test_file} NAME)
    message(STATUS "Activating test source: ${TEST_FILE}")
    add_executable("${TEST_NAME}_test" ${TEST_FILE})
    target_link_libraries("${TEST_NAME}_test" crypto-static)
    set_property(TARGET "${TEST_NAME}_test" PROPERTY OUTPUT_NAME "test_${TEST_NAME}")
endforeach()
